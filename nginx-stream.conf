# Nginx Stream Configuration for Dragon Queen Game Server
# This proxies UDP traffic from port 443 to the internal game server on port 5000
#
# INSTALLATION INSTRUCTIONS:
# 1. Make sure nginx is compiled with the stream module (usually included by default)
# 2. This config should be included in the main nginx.conf at the TOP LEVEL (not inside http block)
# 3. Add this line to /etc/nginx/nginx.conf (outside the http block):
#    include /home/benjamin-f/Documents/dev/game/dragon_queen_3d/nginx-stream.conf;
# 4. Test config: sudo nginx -t
# 5. Reload nginx: sudo systemctl reload nginx

stream {
    # UDP proxy for Dragon Queen game server
    server {
        listen 443 udp;
        proxy_pass 127.0.0.1:5000;
        
        # UDP-specific settings
        proxy_timeout 10s;
        proxy_responses 1;
        
        # Buffer size for UDP packets
        proxy_buffer_size 16k;
    }
}
